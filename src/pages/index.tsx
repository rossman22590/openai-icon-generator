import { useEffect, useState } from 'react'
import Head from 'next/head'


export default function Home() {
  const [inputValue, setInputValue] = useState('');
  const [outputResults, setOutputResults] = useState(false);
  // require('dotenv').config()
  useEffect(() => {
    console.log('hello')
  }, []);


  const handleRadioSelect = (e:any) => {
    console.log(e);
    // provide active class to item, so user knows its been selected 
    if (e.target.checked) {
      console.log(e.target)
      console.log(e.target.parentElement)
      e.target.parentElement.classList.add('active');
      alert('this is now active')
    }
  }

  const handleSubmit = (e:any) => {
    e.preventDefault();
    console.log(inputValue)
    if (inputValue === '') {
      alert('Please add some text');
      setOutputResults(false)
      return;
    }
    setOutputResults(true)
  }
  

  return (
    <>
      <Head>
        <title>OpenAI Icon Generator</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="main">
        <form action="/send-data-here" method="post" className="flex flex-col items-center">
          <div className="container flex justify-center items-center">
            <span className="text-5xl">Welcome to</span>
            <span className="ml-3 text-5xl">AIcon</span>
          </div>
          <div className="container flex justify-center items-center mt-6">
            <span className="text-2xl">
              Create your very own custom AI generated icons
            </span>
          </div>

          <div className="container flex justify-center items-center mt-6">
            <span className="text-3xl mr-4">I would like an icon of a </span>
            <input 
            className="text-2xl"
            type="text" 
            id="prompt" 
            placeholder="smiley face" 
            onChange={(event) =>
              setInputValue(event.target.value)
            }
            />
          </div>

           <div className="container flex justify-center items-center mt-6">
            <span className="text-2xl">Select background color: </span>

            <div className="grid grid-col-4 grid-flow-col gap-4 ml-6">
              <div className='flex flex-col items-center'>
                <label htmlFor="transparent" className="flex w-16 h-16 rounded-lg cursor-pointer border-dashed border-2 border-gray-200" onClick={handleRadioSelect}>
                  <input className="hidden pointer" type="radio" id="transparent" name="transparent" value="transparent" />
                </label>
                 Transparent
              </div>

              <div className='flex flex-col items-center'>
                <label htmlFor="white" className="flex w-16 h-16 border rounded-lg cursor-pointer" onClick={handleRadioSelect}>
                  <input className="hidden pointer" type="radio" id="white" name="white" value="white" />
                </label>
                 White
              </div>

              <div className='flex flex-col items-center'>
                <label htmlFor="grey" className="flex w-16 h-16 border bg-gray-200 rounded-lg cursor-pointer" onClick={handleRadioSelect}>
                  <input className="hidden pointer" type="radio" id="grey" name="grey" value="grey" />
                </label>
                 Grey
              </div>

              <div className='flex flex-col items-center'>
                <label htmlFor="black" className="flex w-16 h-16 border bg-black rounded-lg cursor-pointer" onClick={handleRadioSelect}>
                  <input className="hidden pointer" type="radio" id="black" name="black" value="black" />
                </label>
                 Black
              </div>

             
            </div>
          </div>
          <button className='mt-12 rounded-lg bg-blue-500 text-white p-4 h-auto' type="submit" onClick={handleSubmit}>Generate</button>

          {outputResults && 
            <div className="mt-12 results-container container rounded-lg flex bg-gray-200 w-16 h-16"></div>
          }
        </form>
      </main>
    </>
  )
}
